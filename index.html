<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Josue's Time of Day</title>
    <meta name="robots" content="noindex,nofollow">
    <style>
        * {padding: 0; margin: 0;}
        html {background-color: #ccc;}
        body {
            font-family: Arial, Helvetica, sans-serif;
            max-width: 960px;
            width: 90%;
            margin: auto;
            background-color: #fff;
            padding: 20px;
            min-height: 100%;
        }
        img.flexible {
            float: right;
            display: inline-block;
            padding: 20px;
            max-width: 300px;
            width: 33%;
        }
        p {margin: 10px;}
        h1, h2, h3, h4, h5, h6 {
            font-weight: normal;
            margin: 10px;
        }
        h1.masthead {margin-top: 0;}
        footer {
            text-align: center;
            clear: both;
        }
        ::selection {
            color: #E7DFC6;
            background: #AD343E;
        }
        a {
            color: #000000;
            text-decoration: none;
        }
        a:hover {
            color: #E7DFC6;
            background-color: #AD343E;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <header>
        <h1 class="masthead">Time of Day</h1>
    </header>
    <main>
        <header><h3>A JavaScript Project by Josue Arteaga</h3></header>
        <h3 id="my-greeting">Greeting Goes Here</h3>
        <p id="day-of-week">Present day: </p>
        <p id="hour-of-day">Present time: </p>
        <a href="https://www.youtube.com/watch?v=NfjsLmya1PI" target="_blank" style="color:#00000096">Click Me</a>
        <p>This page checks what day and time it is using your computer's local time.</p>
        <p>It uses the time to change the background color and image displayed on the right.</p>
        <img id="image-time" src="http://dummyimage.com/300x400" alt="Time of Day Image" class="flexible">
        <footer>
            <p><small>&copy; 2022 by Josue Arteaga, All Rights Reserved ~ 
                <a id="html-checker" href="#" target="_blank">Check HTML</a> ~ 
                <a id="css-checker" href="#" target="_blank">Check CSS</a>
            </small></p>
            <p><small>Contact me: 
                <a id="email" href="mailto:jarteaga@sea.yearup.org" target="_blank">Email</a> - 
                <a id="site" href="https://joeart15.github.io/portal/" target="_blank">Portal</a>
            </small></p>
        </footer>
    </main>
    <script>
        // Get the current date and time
        let myDate = new Date();
        let myHour = myDate.getHours();

        // Validate hour in case of an error
        if (isNaN(myHour)) {
            console.error("Invalid hour detected!");
            myHour = 12; // Default to noon
        }

        let myColor = "blue";
        let mySentence = "";
        let imageUrl = "";

        // Array of days
        let daysOfWeek = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
        let myDay = daysOfWeek[myDate.getDay()];

        // Determine the time of day and corresponding message, color, and image
        if (myHour >= 5 && myHour < 12) {
            myColor = "#008dff";
            mySentence = "Good Morning!";
            imageUrl = "images/morning.jpg";
        } else if (myHour >= 12 && myHour < 18) {
            myColor = "#a200ff";
            mySentence = "Good Afternoon!";
            imageUrl = "images/afternoon.jpg";
        } else if (myHour >= 18 && myHour < 23) {
            myColor = "#ff5e00";
            mySentence = "Good Evening!";
            imageUrl = "images/evening.jpg";
        } else {
            myColor = "#8a0000";
            mySentence = "Good Night!";
            imageUrl = "images/night.jpg";
        }

        // Update HTML with the calculated values
        document.getElementById("day-of-week").innerHTML = "Present day: " + myDay;
        document.getElementById("hour-of-day").innerHTML = "Present time: " + myHour + ":00";
        document.getElementById("my-greeting").innerHTML = mySentence;
        document.body.style.backgroundColor = myColor;

        // Set the image and alt text
        document.getElementById("image-time").src = imageUrl;
        document.getElementById("image-time").alt = mySentence;

        // Fallback for missing images
        document.getElementById("image-time").onerror = function() {
            this.src = "http://dummyimage.com/300x400";
        };

        // Set the links for HTML and CSS validators
        if (location.protocol.startsWith("http")) {
            document.getElementById("html-checker").setAttribute("href", "https://validator.w3.org/nu/?doc=" + location.href);
            document.getElementById("css-checker").setAttribute("href", "https://jigsaw.w3.org/css-validator/validator?uri=" + location.href);
        } else {
            document.getElementById("html-checker").removeAttribute("href");
            document.getElementById("css-checker").removeAttribute("href");
        }
    </script>
</body>
</html>
